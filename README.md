<div align="center">
  <img src="webs/src/assets/images/logo.svg" width="280px" />
  
  **âœ¨ å¼ºå¤§çš„ä»£ç†è®¢é˜…ç®¡ç†ä¸è½¬æ¢å·¥å…· âœ¨**

  <p>
    <img src="https://img.shields.io/github/go-mod/go-version/ZeroDeng01/sublinkPro?style=flat-square&logo=go&logoColor=white" alt="Go Version"/>
    <img src="https://img.shields.io/github/package-json/dependency-version/ZeroDeng01/sublinkPro/react?filename=webs%2Fpackage.json&style=flat-square&logo=react&logoColor=white&color=61DAFB" alt="React Version"/>
    <img src="https://img.shields.io/github/package-json/dependency-version/ZeroDeng01/sublinkPro/@mui/material?filename=webs%2Fpackage.json&style=flat-square&logo=mui&logoColor=white&label=MUI&color=007FFF" alt="MUI Version"/>
    <img src="https://img.shields.io/github/package-json/dependency-version/ZeroDeng01/sublinkPro/vite?filename=webs%2Fpackage.json&style=flat-square&logo=vite&logoColor=white&color=646CFF" alt="Vite Version"/>
  </p>
  <p>
    <img src="https://img.shields.io/github/v/release/ZeroDeng01/sublinkPro?style=flat-square&logo=github&label=Latest" alt="Latest Release"/>
    <img src="https://img.shields.io/github/release-date/ZeroDeng01/sublinkPro?style=flat-square&logo=github&label=Release%20Date" alt="Release Date"/>
  </p>
  <p>
    <img src="https://img.shields.io/docker/v/zerodeng/sublink-pro/latest?style=flat-square&logo=docker&logoColor=white&label=Docker%20Stable" alt="Docker Stable Version"/>
    <img src="https://img.shields.io/docker/pulls/zerodeng/sublink-pro?style=flat-square&logo=docker&logoColor=white&label=Docker%20Pulls" alt="Docker Pulls"/>
    <img src="https://img.shields.io/docker/image-size/zerodeng/sublink-pro/latest?style=flat-square&logo=docker&logoColor=white&label=Image%20Size" alt="Docker Image Size"/>
  </p>
  <p>
    <img src="https://img.shields.io/github/stars/ZeroDeng01/sublinkPro?style=flat-square&logo=github&label=Stars" alt="GitHub Stars"/>
    <img src="https://img.shields.io/github/forks/ZeroDeng01/sublinkPro?style=flat-square&logo=github&label=Forks" alt="GitHub Forks"/>
    <img src="https://img.shields.io/github/issues/ZeroDeng01/sublinkPro?style=flat-square&logo=github&label=Issues" alt="GitHub Issues"/>
    <img src="https://img.shields.io/github/license/ZeroDeng01/sublinkPro?style=flat-square&label=License" alt="License"/>
  </p>
  <p>
    <a href="https://github.com/ZeroDeng01/sublinkPro/issues">
      <img src="https://img.shields.io/badge/é—®é¢˜åé¦ˆ-Issues-blue?style=flat-square&logo=github" alt="Issues"/>
    </a>
    <a href="https://github.com/ZeroDeng01/sublinkPro/releases">
      <img src="https://img.shields.io/badge/ç‰ˆæœ¬ä¸‹è½½-Releases-green?style=flat-square&logo=github" alt="Releases"/>
    </a>
  </p>
</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

`SublinkPro` æ˜¯åŸºäºä¼˜ç§€çš„å¼€æºé¡¹ç›® [sublinkX](https://github.com/gooaclok819/sublinkX) / [sublinkE](https://github.com/eun1e/sublinkE) è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œåœ¨åŸé¡¹ç›®åŸºç¡€ä¸Šåšäº†éƒ¨åˆ†å®šåˆ¶ä¼˜åŒ–ã€‚æ„Ÿè°¢åŸä½œè€…çš„ä»˜å‡ºä¸è´¡çŒ®ã€‚

- ğŸ¨ **å‰ç«¯æ¡†æ¶**ï¼šåŸºäº [Berry Free React Material UI Admin Template](https://github.com/codedthemes/berry-free-react-admin-template)
- âš¡ **åç«¯æŠ€æœ¯**ï¼šGo + Gin + Gorm
- ğŸ” **é»˜è®¤è´¦å·**ï¼š`admin` / `123456`ï¼ˆè¯·å®‰è£…ååŠ¡å¿…ä¿®æ”¹ï¼‰
- ğŸ’» **æ¼”ç¤ºç³»ç»Ÿ**: [https://sublink-pro-demo.zeabur.app](https://sublink-pro-demo.zeabur.app/) ç”¨æˆ·åï¼šadmin å¯†ç ï¼š123456

> [!WARNING]
> âš ï¸ æœ¬é¡¹ç›®å’ŒåŸé¡¹ç›®æ•°æ®åº“ä¸å…¼å®¹ï¼Œè¯·ä¸è¦æ··ç”¨ã€‚
>
> âš ï¸ è¯·ä¸è¦ä½¿ç”¨æœ¬é¡¹ç›®ä»¥åŠä»»ä½•æœ¬é¡¹ç›®çš„è¡ç”Ÿé¡¹ç›®è¿›è¡Œè¿åæ‚¨ä»¥åŠæ‚¨æ‰€æœåŠ¡ç”¨æˆ·çš„æ‰€åœ¨åœ°æ³•å¾‹æ³•è§„çš„æ´»åŠ¨ã€‚æœ¬é¡¹ç›®ä»…ä¾›ä¸ªäººå¼€å‘å’Œå­¦ä¹ äº¤æµä½¿ç”¨ã€‚

---

## âœ¨ æ–°å¢åŠŸèƒ½

| çŠ¶æ€ | åŠŸèƒ½æè¿° |
|:---:|:---|
| âœ… | ä¿®å¤éƒ¨åˆ†é¡µé¢BUG |
| âœ… | æ”¯æŒ Clash `dialer-proxy` å±æ€§ |
| âœ… | å…è®¸æ·»åŠ å¹¶ä½¿ç”¨ API KEY è®¿é—® API |
| âœ… | å¯¼å…¥ã€å®šæ—¶æ›´æ–°è®¢é˜…é“¾æ¥ä¸­çš„èŠ‚ç‚¹ï¼ˆå¯é€šè¿‡å‰ç½®ä»£ç†è®¢é˜…ï¼‰ |
| âœ… | æ”¯æŒ AnyTLSã€Socks5 åè®® |
| âœ… | è®¢é˜…èŠ‚ç‚¹æ’åº |
| âœ… | å…¨æ–° UIï¼Œäº¤äº’å’Œæ“ä½œä¾¿æ·æ€§å¤§å¤§æå‡ï¼Œç§»åŠ¨ç«¯å‹å¥½ |
| ğŸ”„ | æ›´å¤šåŠŸèƒ½æŒç»­å¼€å‘ä¸­... |

---

## ğŸ¯ ç³»ç»Ÿæ ¸å¿ƒäº®ç‚¹

<table>
<tr>
<td width="50%">

### ğŸ·ï¸ æ™ºèƒ½æ ‡ç­¾ç³»ç»Ÿï¼ˆæ ¸å¿ƒä¼˜åŠ¿ï¼‰
- **è‡ªåŠ¨è§„åˆ™æ‰“æ ‡**ï¼šæ ¹æ®å»¶è¿Ÿã€é€Ÿåº¦ã€å›½å®¶ã€åè®®ç­‰è‡ªåŠ¨åˆ†ç±»
- **é›¶ä»£ç ç­›é€‰**ï¼šè®¢é˜…ä½¿ç”¨æ ‡ç­¾ç™½/é»‘åå•ï¼Œæ— éœ€è„šæœ¬ç¼–ç¨‹
- **æ ‡ç­¾äº’æ–¥ç»„**ï¼šåŒç»„æ ‡ç­¾è‡ªåŠ¨æ›¿æ¢ï¼Œé¿å…æ ‡ç­¾å†—ä½™
- **åŠ¨æ€æ›´æ–°**ï¼šæµ‹é€Ÿåè‡ªåŠ¨æ›´æ–°æ ‡ç­¾ï¼Œå§‹ç»ˆåæ˜ æœ€æ–°çŠ¶æ€

</td>
<td width="50%">

### âš¡ ä¸“ä¸šæµ‹é€Ÿç³»ç»Ÿ
- **åŒé˜¶æ®µæµ‹è¯•**ï¼šå»¶è¿Ÿæµ‹è¯•ä¸é€Ÿåº¦æµ‹è¯•åˆ†ç¦»ï¼Œæ›´ç²¾å‡†
- **æ™ºèƒ½å»¶è¿Ÿæµ‹é‡**ï¼šæ”¯æŒ UnifiedDelay æ¨¡å¼ï¼Œå¯é€‰æ‹©åŒ…å«æˆ–æ’é™¤æ¡æ‰‹æ—¶é—´
- **ç‹¬ç«‹å¹¶å‘æ§åˆ¶**ï¼šå»¶è¿Ÿå’Œé€Ÿåº¦æµ‹è¯•å¯åˆ†åˆ«è®¾ç½®å¹¶å‘æ•°
- **çŠ¶æ€è‡ªåŠ¨æ ‡è®°**ï¼šæ ¹æ®æµ‹é€Ÿç»“æœè‡ªåŠ¨æ ‡è®°èŠ‚ç‚¹çŠ¶æ€

</td>
</tr>
<tr>
<td>

### ğŸ” é«˜å®‰å…¨æ€§ä¸è‡ªç”±åº¦
- æ”¯æŒè®¿é—®è®¢é˜…è®°å½•æŸ¥è¯¢
- Token æˆæƒä¸ API Key è®¿é—®
- IP é»‘/ç™½åå•åŠŸèƒ½
- ç®€æ˜“å®‰å…¨é…ç½®ç®¡ç†

</td>
<td>

### ğŸ”” Webhooks é€šçŸ¥
- æ”¯æŒ PushDeerã€Barkã€é’‰é’‰ã€æ–¹ç³–ç­‰å¤šå¹³å°
- è®¢é˜…æ›´æ–°å®Œæˆé€šçŸ¥
- æµ‹é€Ÿä»»åŠ¡å®Œæˆé€šçŸ¥

</td>
</tr>
<tr>
<td>

### ğŸ“œ JavaScript è„šæœ¬ç³»ç»Ÿ
- **èŠ‚ç‚¹è¿‡æ»¤è„šæœ¬**ï¼šè®¢é˜…ç”Ÿæˆå‰è‡ªå®šä¹‰è¿‡æ»¤é€»è¾‘
- **å†…å®¹åå¤„ç†**ï¼šå¯¹æœ€ç»ˆè®¢é˜…å†…å®¹è¿›è¡ŒäºŒæ¬¡ä¿®æ”¹
- **å¤šè„šæœ¬é“¾å¼æ‰§è¡Œ**ï¼šæŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œå¤šä¸ªè„šæœ¬
- **å®Œæ•´æ—¥å¿—æ”¯æŒ**ï¼š`console.log()` è¾“å‡ºè°ƒè¯•ä¿¡æ¯

</td>
<td>

### âœï¸ æ™ºèƒ½èŠ‚ç‚¹é‡å‘½å & æ¨¡æ¿ç”Ÿæˆ
- **è§„åˆ™åŒ–é‡å‘½å**ï¼šæ”¯æŒå˜é‡æ›¿æ¢ï¼Œå¦‚ `$Country`ã€`$Tags`ã€`$Protocol`
- **æ‰¹é‡é‡å‘½å**ï¼šä¸€é”®æŒ‰è§„åˆ™é‡å‘½åæ‰€æœ‰èŠ‚ç‚¹
- **ACL4SSR è§„åˆ™åŒæ­¥**ï¼šè‡ªåŠ¨ä» ACL4SSR ç”Ÿæˆ Clash/Surge æ¨¡æ¿
- **æ¨¡æ¿è‡ªå®šä¹‰**ï¼šçµæ´»é…ç½®ä»£ç†ç»„å’Œè§„åˆ™ç»„

</td>
</tr>
</table>

---

## ğŸ·ï¸ è‡ªåŠ¨æ ‡ç­¾ç³»ç»Ÿè¯¦è§£

SublinkPro çš„è‡ªåŠ¨æ ‡ç­¾ç³»ç»Ÿæ˜¯æœ¬é¡¹ç›®æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè®©èŠ‚ç‚¹ç®¡ç†ä»ã€Œæ‰‹åŠ¨ç¼–è¾‘ã€å‡çº§ä¸ºã€Œè§„åˆ™é©±åŠ¨ã€ã€‚

### ğŸ’¡ æ ¸å¿ƒä¼˜åŠ¿

| ä¼˜åŠ¿ | è¯´æ˜ |
|:---|:---|
| **ğŸš« é›¶ä»£ç ç­›é€‰** | é€šè¿‡æ ‡ç­¾è§„åˆ™ç»™èŠ‚ç‚¹æ‰“æ ‡ç­¾åï¼Œè®¢é˜…å¯ç›´æ¥ä½¿ç”¨æ ‡ç­¾è¿›è¡Œå¤æ‚æ¡ä»¶ç­›é€‰ï¼Œ**æ— éœ€ç¼–å†™ä»»ä½•ä»£ç æˆ–è„šæœ¬** |
| **ğŸ”„ åŠ¨æ€è‡ªåŠ¨åŒ–** | æ ‡ç­¾éšèŠ‚ç‚¹çŠ¶æ€è‡ªåŠ¨æ›´æ–°ï¼Œä¾‹å¦‚æµ‹é€Ÿåå»¶è¿Ÿå˜é«˜çš„èŠ‚ç‚¹ä¼šè‡ªåŠ¨ä»ã€Œä½å»¶è¿Ÿã€æ ‡ç­¾ä¸­ç§»é™¤ |
| **ğŸ“Š å¤šç»´åº¦åˆ†ç±»** | æ”¯æŒæŒ‰å»¶è¿Ÿã€é€Ÿåº¦ã€å›½å®¶ã€åè®®ã€æ¥æºã€èŠ‚ç‚¹åç­‰å¤šç§æ¡ä»¶ç»„åˆæ‰“æ ‡ç­¾ |
| **ğŸ›ï¸ çµæ´»è¿ç®—ç¬¦** | æ”¯æŒç­‰äºã€åŒ…å«ã€å¤§äºã€å°äºã€æ­£åˆ™åŒ¹é…ç­‰ä¸°å¯Œçš„æ¡ä»¶è¿ç®—ç¬¦ |
| **â™»ï¸ äº’æ–¥ç»„ç®¡ç†** | åŒä¸€äº’æ–¥ç»„å†…çš„æ ‡ç­¾è‡ªåŠ¨æ›¿æ¢ï¼Œç¡®ä¿èŠ‚ç‚¹åˆ†ç±»å”¯ä¸€ä¸”æ¸…æ™° |

### ğŸ“‹ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

```
åœºæ™¯ä¸€ï¼šæŒ‰å»¶è¿Ÿåˆ†çº§
â”œâ”€â”€ è§„åˆ™ï¼šå»¶è¿Ÿ < 100ms â†’ æ ‡ç­¾ã€Œâš¡æé€Ÿã€
â”œâ”€â”€ è§„åˆ™ï¼šå»¶è¿Ÿ 100-300ms â†’ æ ‡ç­¾ã€Œâœ…æ­£å¸¸ã€
â””â”€â”€ è§„åˆ™ï¼šå»¶è¿Ÿ > 300ms â†’ æ ‡ç­¾ã€ŒğŸŒè¾ƒæ…¢ã€

åœºæ™¯äºŒï¼šæŒ‰åœ°åŒºåˆ†ç±»
â”œâ”€â”€ è§„åˆ™ï¼šå›½å®¶ = é¦™æ¸¯ â†’ æ ‡ç­¾ã€ŒğŸ‡­ğŸ‡°é¦™æ¸¯ã€
â”œâ”€â”€ è§„åˆ™ï¼šå›½å®¶ = æ—¥æœ¬ â†’ æ ‡ç­¾ã€ŒğŸ‡¯ğŸ‡µæ—¥æœ¬ã€
â””â”€â”€ è§„åˆ™ï¼šå›½å®¶ = ç¾å›½ â†’ æ ‡ç­¾ã€ŒğŸ‡ºğŸ‡¸ç¾å›½ã€

åœºæ™¯ä¸‰ï¼šè®¢é˜…ç­›é€‰ï¼ˆæ— éœ€ç¼–ç ï¼ï¼‰
â”œâ”€â”€ è®¢é˜…Aï¼šæ ‡ç­¾ç™½åå• = ã€Œâš¡æé€Ÿã€ã€ŒğŸ‡­ğŸ‡°é¦™æ¸¯ã€â†’ åªè¿”å›é¦™æ¸¯æé€ŸèŠ‚ç‚¹
â””â”€â”€ è®¢é˜…Bï¼šæ ‡ç­¾é»‘åå• = ã€ŒğŸŒè¾ƒæ…¢ã€â†’ æ’é™¤æ‰€æœ‰æ…¢é€ŸèŠ‚ç‚¹
```

> [!TIP]
> **æ ‡ç­¾äº’æ–¥ç»„ä½¿ç”¨åœºæ™¯**ï¼šåˆ›å»ºã€Œä¼˜ç§€ã€ã€ã€Œè‰¯å¥½ã€ã€ã€Œå·®ã€ä¸‰ä¸ªæ ‡ç­¾å¹¶è®¾ä¸ºåŒç»„ã€Œé€Ÿåº¦è¯„çº§ã€ï¼Œæµ‹é€Ÿæ—¶èŠ‚ç‚¹åªä¼šä¿ç•™æœ€æ–°çš„è¯„çº§ï¼Œé¿å…æ ‡ç­¾å †ç§¯ã€‚

---

## âš¡ æµ‹é€Ÿç³»ç»Ÿè¯¦è§£

SublinkPro æä¾›ä¸“ä¸šçº§çš„èŠ‚ç‚¹æµ‹é€ŸåŠŸèƒ½ï¼Œé‡‡ç”¨ç§‘å­¦çš„æµ‹è¯•æ–¹æ³•ç¡®ä¿ç»“æœå‡†ç¡®å¯é ã€‚

### ğŸ”¬ æŠ€æœ¯ç‰¹ç‚¹

| ç‰¹ç‚¹ | è¯´æ˜ |
|:---|:---|
| **åŒé˜¶æ®µåˆ†ç¦»æµ‹è¯•** | å»¶è¿Ÿæµ‹è¯•ä¸ä¸‹è½½é€Ÿåº¦æµ‹è¯•åˆ†å¼€è¿›è¡Œï¼Œå„è‡ªä½¿ç”¨æœ€é€‚åˆçš„æµ‹è¯•URLå’Œæ–¹æ³• |
| **æ™ºèƒ½å»¶è¿Ÿæµ‹é‡** | æ”¯æŒ UnifiedDelay æ¨¡å¼ï¼Œå¯é€‰æ‹©åŒ…å«æˆ–æ’é™¤æ¡æ‰‹æ—¶é—´ï¼ˆç³»ç»Ÿè‡ªåŠ¨å‘é€ä¸¤æ¬¡è¯·æ±‚å–ç¬¬äºŒæ¬¡ç»“æœï¼‰ |
| **ç‹¬ç«‹å¹¶å‘è®¾ç½®** | å»¶è¿Ÿæµ‹è¯•å’Œé€Ÿåº¦æµ‹è¯•å¯åˆ†åˆ«é…ç½®ä¸åŒçš„å¹¶å‘æ•°ï¼Œå¹³è¡¡æ•ˆç‡ä¸ç²¾åº¦ |
| **çŠ¶æ€è‡ªåŠ¨æ ‡è®°** | æµ‹é€Ÿå®Œæˆåè‡ªåŠ¨æ ¹æ®ç»“æœæ›´æ–°èŠ‚ç‚¹çš„å»¶è¿ŸçŠ¶æ€å’Œé€Ÿåº¦çŠ¶æ€ |
| **å®æ—¶è¿›åº¦å±•ç¤º** | æµ‹é€Ÿè¿‡ç¨‹ä¸­å®æ—¶æ˜¾ç¤ºè¿›åº¦å’ŒçŠ¶æ€ï¼Œæ”¯æŒä»»åŠ¡é¢æ¿æŸ¥çœ‹ |
| **æµé‡ç»Ÿè®¡** | æ¯ä¸ªèŠ‚ç‚¹æµ‹é€Ÿå®Œæˆåè®°å½•æ¶ˆè€—æµé‡ï¼Œä»»åŠ¡å®Œæˆæ—¶æ±‡æ€»æ˜¾ç¤º |

### ğŸ“Š æµ‹é€ŸçŠ¶æ€åˆ†ç±»

| é¢œè‰² | å»¶è¿Ÿé˜ˆå€¼ | é€Ÿåº¦é˜ˆå€¼ |
|:---|:---|:---|
| ğŸŸ¢ ç»¿è‰² | < 200ms | >= 5 MB/s |
| ğŸŸ¡ é»„è‰² | 200-500ms | 1-5 MB/s |
| ğŸ”´ çº¢è‰² | >= 500ms æˆ–è¶…æ—¶/å¤±è´¥ | < 1 MB/s æˆ–å¤±è´¥ |
| âšª ç°è‰² | æœªæµ‹è¯• | æœªæµ‹è¯• |

### ğŸ”§ æµ‹é€ŸåŸç†ä¸æµé‡è®¡ç®—

> [!IMPORTANT]
> **æ ¸å¿ƒåŸç†**ï¼šæµ‹é€Ÿé‡‡ç”¨ã€Œé™æ—¶ä¸‹è½½ã€æ–¹å¼ï¼Œå³åœ¨è®¾å®šçš„è¶…æ—¶æ—¶é—´å†…å°½å¯èƒ½å¤šåœ°ä¸‹è½½æ•°æ®ï¼Œç„¶åæ ¹æ®å®é™…ä¸‹è½½çš„å­—èŠ‚æ•°å’Œè€—æ—¶è®¡ç®—é€Ÿåº¦ã€‚

**é€Ÿåº¦è®¡ç®—å…¬å¼**ï¼š
```
é€Ÿåº¦ (MB/s) = å®é™…ä¸‹è½½å­—èŠ‚æ•° Ã· 1024 Ã· 1024 Ã· å®é™…è€—æ—¶(ç§’)
```

**å¸¸è§ç–‘é—®**ï¼š

| ç°è±¡ | åŸå›  |
|:---|:---|
| è®¾ç½® 5MB æµ‹é€Ÿæ–‡ä»¶ï¼Œä½†å®é™…ä¸‹è½½ä¸åˆ° 5MB | èŠ‚ç‚¹é€Ÿåº¦æ…¢ï¼Œåœ¨è¶…æ—¶æ—¶é—´å†…æœªä¸‹è½½å®Œ |
| æœ‰çš„èŠ‚ç‚¹ä¸‹è½½ 500KBï¼Œæœ‰çš„ä¸‹è½½ 5MB | é€Ÿåº¦å¿«çš„èŠ‚ç‚¹åœ¨è¶…æ—¶å‰ä¸‹è½½å®Œæˆï¼Œæ…¢çš„èŠ‚ç‚¹ä¸‹è½½ä¸å®Œ |
| æµé‡æ¶ˆè€—æ˜¾ç¤ºå‡ ç™¾KB | èŠ‚ç‚¹é€Ÿåº¦çº¦ä¸º 100KB/s Ã— è¶…æ—¶æ—¶é—´(ç§’) |

**ç¤ºä¾‹**ï¼ˆå‡è®¾è¶…æ—¶æ—¶é—´ä¸º 5 ç§’ï¼‰ï¼š

| èŠ‚ç‚¹é€Ÿåº¦ | å®é™…ä¸‹è½½é‡ | è®¡ç®—ç»“æœ |
|:---|:---|:---|
| 10 MB/s | 5 MBï¼ˆæå‰å®Œæˆï¼‰ | é€Ÿåº¦ â‰ˆ 10 MB/s |
| 1 MB/s | 5 MB | é€Ÿåº¦ = 1 MB/s |
| 0.2 MB/s | 1 MB | é€Ÿåº¦ = 0.2 MB/s |
| 0.1 MB/s | 500 KB | é€Ÿåº¦ = 0.1 MB/s |

### âš™ï¸ å‚æ•°é…ç½®å»ºè®®

| å‚æ•° | è¯´æ˜ | å»ºè®®å€¼ |
|:---|:---|:---|
| **æµ‹é€Ÿè¶…æ—¶æ—¶é—´** | æ¯ä¸ªèŠ‚ç‚¹æµ‹é€Ÿçš„æœ€å¤§æ—¶é•¿ | 5-10ç§’ï¼ˆå¹³è¡¡é€Ÿåº¦ä¸å‡†ç¡®æ€§ï¼‰ |
| **æµ‹é€Ÿæ–‡ä»¶ URL** | ç”¨äºä¸‹è½½æµ‹é€Ÿçš„æ–‡ä»¶åœ°å€ | å»ºè®® â‰¥ è¶…æ—¶æ—¶é—´ Ã— é¢„æœŸæœ€å¤§é€Ÿåº¦ |
| **å»¶è¿Ÿæµ‹è¯• URL** | ç”¨äºå»¶è¿Ÿæµ‹è¯•çš„åœ°å€ | å»ºè®®ä½¿ç”¨ HTTP 204 æˆ–å°æ–‡ä»¶ï¼Œå¦‚ Cloudflare çš„ generate_204 |
| **å»¶è¿Ÿæµ‹è¯•å¹¶å‘** | åŒæ—¶è¿›è¡Œå»¶è¿Ÿæµ‹è¯•çš„èŠ‚ç‚¹æ•° | 10-50ï¼ˆå¯é€‚å½“è°ƒé«˜ï¼‰ |
| **é€Ÿåº¦æµ‹è¯•å¹¶å‘** | åŒæ—¶è¿›è¡Œé€Ÿåº¦æµ‹è¯•çš„èŠ‚ç‚¹æ•° | 1-3ï¼ˆé¿å…å¸¦å®½ç«äº‰ï¼‰ |

> [!TIP]
> **æµ‹é€Ÿæ–‡ä»¶å¤§å°å»ºè®®**ï¼šå¦‚æœè¶…æ—¶æ—¶é—´ä¸º 5 ç§’ï¼Œé¢„æœŸæœ€å¿«èŠ‚ç‚¹ä¸º 20 MB/sï¼Œåˆ™æµ‹é€Ÿæ–‡ä»¶åº” â‰¥ 100MBã€‚æ¨èä½¿ç”¨ Cloudflare çš„æµ‹é€Ÿ URLï¼š`https://speed.cloudflare.com/__down?bytes=100000000`ï¼ˆ100MBï¼‰ã€âš ï¸æ³¨æ„ï¼šæ–‡ä»¶è¶Šå¤§è¶…æ—¶æ—¶é—´è¶Šå¤§å¯èƒ½æ¶ˆè€—æµé‡è¶Šå¤šã€‘

> [!WARNING]
> **æµé‡æ¶ˆè€—æç¤º**ï¼šæ¯æ¬¡æµ‹é€Ÿä¼šæ¶ˆè€—å®é™…å¸¦å®½æµé‡ã€‚100ä¸ªèŠ‚ç‚¹ Ã— 5MB æµ‹é€Ÿæ–‡ä»¶ = æœ€å¤šæ¶ˆè€— 500MB æµé‡ã€‚æ…¢é€ŸèŠ‚ç‚¹æ¶ˆè€—è¾ƒå°‘ï¼Œä½†å¿«é€ŸèŠ‚ç‚¹ä¼šä¸‹è½½å®Œæ•´æ–‡ä»¶ã€‚

---

## ğŸ“¡ å¤šåè®®æ”¯æŒ

| å®¢æˆ·ç«¯ | æ”¯æŒåè®® |
|:---|:---|
| **v2ray** | base64 é€šç”¨æ ¼å¼ |
| **clash** | ss, ssr, trojan, vmess, vless, hy, hy2, tuic, AnyTLS, Socks5 |
| **surge** | ss, trojan, vmess, hy2, tuic |

---

## ğŸ“¦ åŠŸèƒ½æ¨¡å—æ€»è§ˆ

### ğŸ–¥ï¸ ç³»ç»ŸåŠŸèƒ½

| æ¨¡å— | åŠŸèƒ½è¯´æ˜ |
|:---|:---|
| **ğŸ“Š ä»ªè¡¨ç›˜** | ç³»ç»Ÿæ¦‚è§ˆã€èŠ‚ç‚¹ç»Ÿè®¡ã€åè®®åˆ†å¸ƒã€åœ°åŒºåˆ†å¸ƒã€æ ‡ç­¾åˆ†å¸ƒç­‰å¯è§†åŒ–å›¾è¡¨ |
| **ğŸŒ èŠ‚ç‚¹ç®¡ç†** | èŠ‚ç‚¹å¢åˆ æ”¹æŸ¥ã€æ‰¹é‡æ“ä½œã€æ¡ä»¶ç­›é€‰ã€æ ‡ç­¾ç®¡ç†ã€æµ‹é€Ÿæ“ä½œ |
| **ğŸ“‹ è®¢é˜…ç®¡ç†** | è®¢é˜…é“¾æ¥ç”Ÿæˆã€æ¨¡æ¿é…ç½®ã€èŠ‚ç‚¹ç­›é€‰è§„åˆ™ã€è®¿é—®æ—¥å¿—ã€å®šæ—¶æ›´æ–° |
| **ğŸ·ï¸ æ ‡ç­¾ç®¡ç†** | æ ‡ç­¾åˆ›å»ºç¼–è¾‘ã€è‡ªåŠ¨è§„åˆ™é…ç½®ã€äº’æ–¥ç»„è®¾ç½®ã€æ‰¹é‡æ‰“æ ‡ç­¾ |
| **ğŸ“ æ¨¡æ¿ç®¡ç†** | Clash/Surge é…ç½®æ¨¡æ¿ã€è§„åˆ™ç»„ç®¡ç†ã€ACL4SSR è§„åˆ™åŒæ­¥ |
| **ğŸ”— Host ç®¡ç†** | è‡ªå®šä¹‰åŸŸå IP æ˜ å°„ã€DNS æœåŠ¡å™¨é…ç½®ã€æµ‹é€Ÿè‡ªåŠ¨æŒä¹…åŒ–ã€æœ‰æ•ˆæœŸç®¡ç† |
| **ğŸ“œ è„šæœ¬ç®¡ç†** | JavaScript è„šæœ¬ç¼–è¾‘ã€èŠ‚ç‚¹è¿‡æ»¤è„šæœ¬ã€å†…å®¹åå¤„ç†è„šæœ¬ |
| **ğŸ”‘ API Key** | API å¯†é’¥ç®¡ç†ã€æƒé™æ§åˆ¶ã€è®¿é—®ç»Ÿè®¡ |
| **âš™ï¸ ç³»ç»Ÿè®¾ç½®** | é€šçŸ¥é…ç½®ã€æµ‹é€Ÿé…ç½®ã€å®‰å…¨è®¾ç½®ã€ç”¨æˆ·ç®¡ç†ã€æ•°æ®å¤‡ä»½ |

### ğŸ›¡ï¸ å®‰å…¨ç‰¹æ€§

- âœ… Token æˆæƒè®¿é—®æ§åˆ¶
- âœ… API Key ç‹¬ç«‹æƒé™ç®¡ç†
- âœ… IP é»‘/ç™½åå•è¿‡æ»¤
- âœ… è®¢é˜…è®¿é—®æ—¥å¿—è®°å½•
- âœ… æ“ä½œå®¡è®¡è¿½è¸ª

### ğŸ”” é€šçŸ¥æ¨é€

- âœ… PushDeer æ¨é€
- âœ… Bark æ¨é€
- âœ… é’‰é’‰æœºå™¨äºº
- âœ… æ–¹ç³– (Serveré…±)
- âœ… è®¢é˜…æ›´æ–°é€šçŸ¥
- âœ… æµ‹é€Ÿå®Œæˆé€šçŸ¥

### ğŸŒ GeoIP æ•°æ®åº“

- âœ… IP åœ°ç†ä½ç½®æŸ¥è¯¢
- âœ… èŠ‚ç‚¹è½åœ°å›½å®¶/åœ°åŒºæ£€æµ‹
- âœ… ç™»å½•ä½ç½®ä¿¡æ¯æ˜¾ç¤º
- âœ… æ”¯æŒä»£ç†ä¸‹è½½æ•°æ®åº“
- âœ… å¯é€šè¿‡ç•Œé¢é…ç½®ä¸‹è½½åœ°å€

> [!NOTE]
> GeoIP æ•°æ®åº“ä¸å†å†…ç½®åœ¨ç¨‹åºä¸­ï¼Œç³»ç»Ÿé¦–æ¬¡å¯åŠ¨æ—¶ä¼šå¼•å¯¼ç”¨æˆ·ä¸‹è½½ã€‚æ•°æ®åº“å¿…é¡»æ˜¯ MaxMind çš„ mmdb æ ¼å¼ä¸”åŒ…å« city æ•°æ® (GeoLite2-City)ã€‚

### ğŸŒ Host æ˜ å°„ç®¡ç†

è‡ªå®šä¹‰ Host æ˜ å°„åŠŸèƒ½ï¼Œç±»ä¼¼äºç³»ç»Ÿ hosts æ–‡ä»¶ï¼Œå¯ä¸ºæŒ‡å®šåŸŸåè®¾ç½®å›ºå®š IP åœ°å€ã€‚

| ç‰¹ç‚¹ | è¯´æ˜ |
|:---|:---|
| **å…¨å±€ç”Ÿæ•ˆ** | Host æ˜ å°„åœ¨æµ‹é€Ÿã€å¯¼å…¥è®¢é˜…ã€Telegram æœºå™¨äººç­‰æ‰€æœ‰ä»£ç†ç›¸å…³æ“ä½œä¸­è‡ªåŠ¨ç”Ÿæ•ˆ |
| **è®¢é˜…åœ°å€æ›¿æ¢** | è®¢é˜…å¯å¼€å¯ã€Œæ›¿æ¢æœåŠ¡å™¨åœ°å€ä¸º Hostã€ï¼Œå°†èŠ‚ç‚¹åŸŸåè‡ªåŠ¨æ›¿æ¢ä¸ºå·²é…ç½®çš„ Host IP |
| **DNS æœåŠ¡å™¨** | æ”¯æŒè‡ªå®šä¹‰ DNS æœåŠ¡å™¨ï¼ˆDoHã€UDPï¼‰ï¼Œå¯é€‰æ‹©æ˜¯å¦é€šè¿‡ä»£ç†èŠ‚ç‚¹è§£æ |
| **æµ‹é€ŸæŒä¹…åŒ–** | æµ‹é€Ÿæ—¶è‡ªåŠ¨å°† DNS è§£æç»“æœä¿å­˜ä¸º Host æ˜ å°„ï¼Œé¿å…é‡å¤è§£æ |
| **æ–‡æœ¬ç¼–è¾‘æ¨¡å¼** | æ”¯æŒç±» hosts æ–‡ä»¶æ ¼å¼æ‰¹é‡ç¼–è¾‘ï¼Œæ¯è¡Œ `åŸŸå IP # å¤‡æ³¨` |
| **æœ‰æ•ˆæœŸç®¡ç†** | è‡ªåŠ¨åˆ›å»ºçš„ Host å¯è®¾ç½®æœ‰æ•ˆæœŸï¼Œè¿‡æœŸè‡ªåŠ¨æ¸…ç† |
| **å›ºå®šåŠŸèƒ½ (Pin)** | é‡è¦ Host å¯å›ºå®šï¼Œé¿å…è¢«è¿‡æœŸæ¸…ç† |

#### ğŸ“ ä½¿ç”¨åœºæ™¯

```
åœºæ™¯ä¸€ï¼šCDN ä¼˜é€‰
â”œâ”€â”€ å°† CF èŠ‚ç‚¹åŸŸåæ˜ å°„åˆ°ä¼˜é€‰ IP
â””â”€â”€ æµ‹é€Ÿåè‡ªåŠ¨ä¿å­˜æœ€ä½³è§£æç»“æœ

åœºæ™¯äºŒï¼šDNS æ±¡æŸ“ç»•è¿‡
â”œâ”€â”€ æ‰‹åŠ¨è®¾ç½®è¢«æ±¡æŸ“åŸŸåçš„æ­£ç¡® IP
â””â”€â”€ æ‰€æœ‰ä»£ç†æ“ä½œä½¿ç”¨æ­£ç¡®è§£æ

åœºæ™¯ä¸‰ï¼šæ‰¹é‡å¯¼å…¥
â”œâ”€â”€ ä½¿ç”¨æ–‡æœ¬æ¨¡å¼ä¸€æ¬¡æ€§ç¼–è¾‘å¤šæ¡æ˜ å°„
â””â”€â”€ æ ¼å¼ï¼šexample.com 192.168.1.1 # å¤‡æ³¨
```

> [!TIP]
> **æµ‹é€Ÿ Host æŒä¹…åŒ–**ï¼šå¼€å¯åï¼Œæµ‹é€Ÿæ—¶ä¼šè‡ªåŠ¨å°†ä»£ç†èŠ‚ç‚¹çš„åŸŸåä¸è§£æåˆ°çš„ IP ä¿å­˜åˆ° Host è¡¨ã€‚æ¨èé…åˆæœ‰æ•ˆæœŸè®¾ç½®ä½¿ç”¨ï¼Œé¿å… Host æ•°æ®æ— é™å¢é•¿ã€‚

> [!NOTE]
> **DNS ä»£ç†è®¾ç½®**ï¼šå¯é…ç½® DNS è§£ææ˜¯å¦é€šè¿‡ä»£ç†ï¼Œæ”¯æŒè‡ªåŠ¨é€‰æ‹©å¯ç”¨ä»£ç†æˆ–æ‰‹åŠ¨æŒ‡å®šä»£ç†èŠ‚ç‚¹ã€‚é€‚ç”¨äºè§£æè¢«å¢™åŸŸåçš„åœºæ™¯ã€‚

---

## ğŸ¤– Telegram æœºå™¨äºº

SublinkPro å†…ç½®äº†å¼ºå¤§çš„ Telegram æœºå™¨äººï¼Œè®©æ‚¨å¯ä»¥é€šè¿‡ Telegram éšæ—¶éšåœ°ç®¡ç†æ‚¨çš„ç³»ç»Ÿã€‚

### âœ¨ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å‘½ä»¤ | è¯´æ˜ |
|:---|:---|:---|
| **ğŸ“Š ä»ªè¡¨ç›˜ç»Ÿè®¡** | `/stats` | æŸ¥çœ‹ç³»ç»Ÿæ¦‚è§ˆã€è®¢é˜…æ•°ã€èŠ‚ç‚¹åœ¨çº¿æƒ…å†µã€æœ€å¿«/æœ€æ…¢èŠ‚ç‚¹ç­‰ |
| **ğŸ–¥ï¸ ç³»ç»Ÿç›‘æ§** | `/monitor` | å®æ—¶æŸ¥çœ‹æœåŠ¡å™¨ CPUã€å†…å­˜ä½¿ç”¨ç‡ã€è¿è¡Œæ—¶é—´ç­‰ |
| **âš¡ è¿œç¨‹æµ‹é€Ÿ** | `/speedtest` | è¿œç¨‹è§¦å‘å®šæ—¶æµ‹é€Ÿä»»åŠ¡ï¼Œæˆ–ä»…å¯¹æœªæµ‹é€ŸèŠ‚ç‚¹è¿›è¡Œæµ‹è¯• |
| **ğŸ“‹ è®¢é˜…ç®¡ç†** | `/subscriptions` | æŸ¥çœ‹æ‰€æœ‰è®¢é˜…ï¼Œ**ä¸€é”®ç”Ÿæˆä¸´æ—¶è®¿é—®é“¾æ¥**ï¼ˆæ”¯æŒè‡ªå®šä¹‰åŸŸåï¼‰ |
| **ğŸŒ èŠ‚ç‚¹ç®¡ç†** | `/nodes` | æŸ¥çœ‹èŠ‚ç‚¹æ€»æ•°ã€åœ¨çº¿æ•°åŠåœ°åŒºåˆ†å¸ƒè¯¦æƒ… |
| **ğŸ·ï¸ æ ‡ç­¾è§„åˆ™** | `/tags` | æ‰‹åŠ¨è§¦å‘è‡ªåŠ¨æ ‡ç­¾è§„åˆ™ï¼Œç«‹å³æ›´æ–°èŠ‚ç‚¹æ ‡ç­¾ |
| **ğŸ“ ä»»åŠ¡ç®¡ç†** | `/tasks` | æŸ¥çœ‹å½“å‰æ­£åœ¨è¿è¡Œçš„åå°ä»»åŠ¡ï¼Œæ”¯æŒè¿œç¨‹å–æ¶ˆä»»åŠ¡ |

### ğŸš€ é…ç½®æŒ‡å—

1. **åˆ›å»ºæœºå™¨äºº**ï¼š
   - åœ¨ Telegram ä¸­æœç´¢ [@BotFather](https://t.me/BotFather)
   - å‘é€ `/newbot` åˆ›å»ºæ–°æœºå™¨äººï¼Œè·å– **Bot Token**

2. **ç³»ç»Ÿé…ç½®**ï¼š
   - è¿›å…¥ SublinkPro ã€Œç³»ç»Ÿè®¾ç½®ã€ -> ã€ŒTelegram è®¾ç½®ã€
   - å¡«å…¥ **Bot Token**
   - (å¯é€‰) é…ç½® **ä»£ç†è®¾ç½®**ï¼Œå¦‚æœæ‚¨çš„æœåŠ¡å™¨æ— æ³•ç›´æ¥è®¿é—® Telegram API
   - (å¯é€‰) é…ç½® **è¿œç¨‹è®¿é—®åŸŸå**ï¼Œç”¨äºæœºå™¨äººç”Ÿæˆå¯è®¿é—®çš„è®¢é˜…é“¾æ¥

3. **ç»‘å®šç®¡ç†å‘˜**ï¼š
   - åœ¨é…ç½®é¡µé¢å¯ç”¨æœºå™¨äººå¹¶ä¿å­˜
   - å‘æ‚¨çš„æœºå™¨äººå‘é€ `/start` å‘½ä»¤
   - ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«å¹¶ç»‘å®šæ‚¨çš„ Chat ID

> [!TIP]
> **è®¢é˜…é“¾æ¥ç”Ÿæˆ**ï¼šæœºå™¨äººç”Ÿæˆçš„è®¢é˜…é“¾æ¥ä¼šè‡ªåŠ¨ä½¿ç”¨æ‚¨é…ç½®çš„ã€Œè¿œç¨‹è®¿é—®åŸŸåã€ã€‚ä¸ºäº†å®‰å…¨èµ·è§ï¼Œç”Ÿæˆçš„é“¾æ¥å¸¦æœ‰ä¸´æ—¶çš„è¿™ä¸ª Tokenï¼Œå»ºè®®æŒ‰éœ€ç”Ÿæˆã€‚


## ğŸ”§ å¿«é€Ÿå®‰è£…

### ğŸ“¦ Docker Compose è¿è¡Œï¼ˆæ¨èï¼‰

> [!TIP]
> **æ¨èä½¿ç”¨ Docker Compose éƒ¨ç½²**ï¼Œä¾¿äºç®¡ç†é…ç½®ã€å‡çº§å’Œç»´æŠ¤ã€‚

åˆ›å»º `docker-compose.yml` æ–‡ä»¶ï¼š

```yaml
services:
  sublinkpro:
    # image: zerodeng/sublink-pro:dev # å¼€å‘ç‰ˆï¼ˆåŠŸèƒ½å°é²œä½¿ç”¨ï¼‰
    image: zerodeng/sublink-pro # ç¨³å®šç‰ˆ
    container_name: sublinkpro
    ports:
      - "8000:8000"
    volumes:
      - "./db:/app/db"
      - "./template:/app/template"
      - "./logs:/app/logs"
    restart: unless-stopped
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
docker-compose up -d
```

### ğŸ³ Docker è¿è¡Œ

<details>
<summary><b>ç¨³å®šç‰ˆ</b></summary>

```bash
docker run --name sublinkpro -p 8000:8000 \
  -v $PWD/db:/app/db \
  -v $PWD/template:/app/template \
  -v $PWD/logs:/app/logs \
  -d zerodeng/sublink-pro
```

</details>

<details>
<summary><b>å¼€å‘ç‰ˆï¼ˆåŠŸèƒ½å°é²œï¼‰</b></summary>

```bash
docker run --name sublinkpro -p 8000:8000 \
  -v $PWD/db:/app/db \
  -v $PWD/template:/app/template \
  -v $PWD/logs:/app/logs \
  -d zerodeng/sublink-pro:dev
```

</details>

### ğŸ“ ä¸€é”®å®‰è£…/æ›´æ–°è„šæœ¬

```bash
wget https://raw.githubusercontent.com/ZeroDeng01/sublinkPro/refs/heads/main/install.sh && sh install.sh
```

> [!NOTE]
> å®‰è£…è„šæœ¬æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š
> - **å…¨æ–°å®‰è£…**ï¼šé¦–æ¬¡å®‰è£…æ—¶è‡ªåŠ¨å®Œæˆæ‰€æœ‰é…ç½®
> - **æ›´æ–°ç¨‹åº**ï¼šæ£€æµ‹åˆ°å·²å®‰è£…æ—¶ï¼Œå¯é€‰æ‹©æ›´æ–°ï¼ˆä¿ç•™æ‰€æœ‰æ•°æ®ï¼‰
> - **é‡æ–°å®‰è£…**ï¼šå¯é€‰æ‹©æ˜¯å¦ä¿ç•™ç°æœ‰æ•°æ®
> - **æ¢å¤å®‰è£…**ï¼šæ£€æµ‹åˆ°æ—§æ•°æ®æ—¶ï¼Œå¯é€‰æ‹©æ¢å¤å®‰è£…

### ğŸ—‘ï¸ ä¸€é”®å¸è½½è„šæœ¬

```bash
wget https://raw.githubusercontent.com/ZeroDeng01/sublinkPro/refs/heads/main/uninstall.sh && sh uninstall.sh
```

> [!NOTE]
> å¸è½½è„šæœ¬ä¼šè¯¢é—®æ˜¯å¦ä¿ç•™æ•°æ®ç›®å½•ï¼ˆdbã€logsã€templateï¼‰ï¼Œé€‰æ‹©ä¿ç•™å¯ç”¨äºåç»­é‡æ–°å®‰è£…æ—¶æ¢å¤æ•°æ®ã€‚

> [!TIP]
> æ¨èä¼˜å…ˆä½¿ç”¨ **Docker Compose éƒ¨ç½²** ä»¥è·å¾—æœ€ä½³å…¼å®¹æ€§å’Œä¾¿æ·çš„æ›´æ–°ä½“éªŒã€‚

---

## ğŸ”„ é¡¹ç›®æ›´æ–°

### ğŸ“ ä¸€é”®è„šæœ¬æ›´æ–°

å¦‚æœæ‚¨ä½¿ç”¨ä¸€é”®è„šæœ¬å®‰è£…ï¼Œå¯ä»¥å†æ¬¡è¿è¡Œå®‰è£…è„šæœ¬è¿›è¡Œæ›´æ–°ï¼š

```bash
wget https://raw.githubusercontent.com/ZeroDeng01/sublinkPro/refs/heads/main/install.sh && sh install.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å·²å®‰è£…çš„ç‰ˆæœ¬ï¼Œå¹¶æä¾›ä»¥ä¸‹é€‰é¡¹ï¼š
- **æ›´æ–°ç¨‹åº**ï¼šä¿ç•™æ‰€æœ‰æ•°æ®ï¼Œä»…æ›´æ–°ç¨‹åºæ–‡ä»¶
- **é‡æ–°å®‰è£…**ï¼šå¯é€‰æ‹©æ˜¯å¦ä¿ç•™æ•°æ®

### ğŸ“¦ Docker Compose æ‰‹åŠ¨æ›´æ–°

å¦‚æœæ‚¨ä½¿ç”¨ Docker Compose éƒ¨ç½²ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨æ›´æ–°ï¼š

```bash
# è¿›å…¥ docker-compose.yml æ‰€åœ¨ç›®å½•
cd /path/to/your/sublinkpro

# æ‹‰å–æœ€æ–°é•œåƒ
docker-compose pull

# é‡æ–°åˆ›å»ºå¹¶å¯åŠ¨å®¹å™¨
docker-compose up -d

# ï¼ˆå¯é€‰ï¼‰æ¸…ç†æ—§é•œåƒ
docker image prune -f
```

### ğŸ³ Docker æ‰‹åŠ¨æ›´æ–°

å¦‚æœæ‚¨ä½¿ç”¨ `docker run` å‘½ä»¤éƒ¨ç½²ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ›´æ–°ï¼š

```bash
# åœæ­¢å¹¶åˆ é™¤æ—§å®¹å™¨
docker stop sublinkpro
docker rm sublinkpro

# æ‹‰å–æœ€æ–°é•œåƒ
docker pull zerodeng/sublink-pro

# é‡æ–°å¯åŠ¨å®¹å™¨ï¼ˆä½¿ç”¨ä¸å®‰è£…æ—¶ç›¸åŒçš„å‚æ•°ï¼‰
docker run --name sublinkpro -p 8000:8000 \
  -v $PWD/db:/app/db \
  -v $PWD/template:/app/template \
  -v $PWD/logs:/app/logs \
  -d zerodeng/sublink-pro

# ï¼ˆå¯é€‰ï¼‰æ¸…ç†æ—§é•œåƒ
docker image prune -f
```

### ğŸ¤– Watchtower è‡ªåŠ¨æ›´æ–°ï¼ˆæ¨èï¼‰

Watchtower æ˜¯ä¸€ä¸ªå¯ä»¥è‡ªåŠ¨æ›´æ–° Docker å®¹å™¨çš„å·¥å…·ï¼Œéå¸¸é€‚åˆå¸Œæœ›ä¿æŒé¡¹ç›®å§‹ç»ˆæœ€æ–°çš„ç”¨æˆ·ã€‚

#### æ–¹å¼ä¸€ï¼šç‹¬ç«‹è¿è¡Œ Watchtower

```bash
docker run -d \
  --name watchtower \
  -v /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower \
  --cleanup \
  --interval 86400 \
  sublinkpro
```

> [!NOTE]
> - `--cleanup`ï¼šæ›´æ–°åè‡ªåŠ¨æ¸…ç†æ—§é•œåƒ
> - `--interval 86400`ï¼šæ¯ 24 å°æ—¶æ£€æŸ¥ä¸€æ¬¡æ›´æ–°ï¼ˆå•ä½ï¼šç§’ï¼‰
> - æœ€åçš„ `sublinkpro` æ˜¯è¦ç›‘æ§æ›´æ–°çš„å®¹å™¨åç§°ï¼Œä¸æŒ‡å®šåˆ™ç›‘æ§æ‰€æœ‰å®¹å™¨

#### æ–¹å¼äºŒï¼šé›†æˆåˆ° Docker Compose

åœ¨æ‚¨çš„ `docker-compose.yml` ä¸­æ·»åŠ  Watchtower æœåŠ¡ï¼š

```yaml
services:
  sublinkpro:
    image: zerodeng/sublink-pro
    container_name: sublinkpro
    ports:
      - "8000:8000"
    volumes:
      - "./db:/app/db"
      - "./template:/app/template"
      - "./logs:/app/logs"
    restart: unless-stopped

  watchtower:
    image: containrrr/watchtower
    container_name: watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - TZ=Asia/Shanghai
      - WATCHTOWER_CLEANUP=true
      - WATCHTOWER_POLL_INTERVAL=86400
    restart: unless-stopped
    command: sublinkpro  # åªç›‘æ§ sublinkpro å®¹å™¨
```

å¯åŠ¨æœåŠ¡ï¼š

```bash
docker-compose up -d
```

> [!TIP]
> **Watchtower é«˜çº§é…ç½®**ï¼š
> - å¯ä»¥è®¾ç½® `WATCHTOWER_NOTIFICATIONS` ç¯å¢ƒå˜é‡æ¥é…ç½®æ›´æ–°é€šçŸ¥ï¼ˆæ”¯æŒé‚®ä»¶ã€Slackã€Gotify ç­‰ï¼‰
> - æ›´å¤šé…ç½®è¯·å‚è€ƒ [Watchtower å®˜æ–¹æ–‡æ¡£](https://containrrr.dev/watchtower/)

---

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®ä¼˜å…ˆçº§

SublinkPro æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ä¸ºï¼š

1. **å‘½ä»¤è¡Œå‚æ•°** - é€‚ç”¨äºä¸´æ—¶è¦†ç›–ï¼Œå¦‚ `--port 9000`
2. **ç¯å¢ƒå˜é‡** - æ¨èç”¨äº Docker éƒ¨ç½²
3. **é…ç½®æ–‡ä»¶** - `db/config.yaml`
4. **æ•°æ®åº“å­˜å‚¨** - æ•æ„Ÿé…ç½®è‡ªåŠ¨å­˜å‚¨
5. **é»˜è®¤å€¼** - ç¨‹åºå†…ç½®é»˜è®¤é…ç½®

### ç¯å¢ƒå˜é‡åˆ—è¡¨

| ç¯å¢ƒå˜é‡ | è¯´æ˜ | é»˜è®¤å€¼      |
|----------|------|----------|
| `SUBLINK_PORT` | æœåŠ¡ç«¯å£ | 8000     |
| `SUBLINK_DB_PATH` | æ•°æ®åº“ç›®å½• | ./db     |
| `SUBLINK_LOG_PATH` | æ—¥å¿—ç›®å½• | ./logs   |
| `SUBLINK_JWT_SECRET` | JWTç­¾åå¯†é’¥ | (è‡ªåŠ¨ç”Ÿæˆ)   |
| `SUBLINK_API_ENCRYPTION_KEY` | APIåŠ å¯†å¯†é’¥ | (è‡ªåŠ¨ç”Ÿæˆ)   |
| `SUBLINK_EXPIRE_DAYS` | Tokenè¿‡æœŸå¤©æ•° | 14       |
| `SUBLINK_LOGIN_FAIL_COUNT` | ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶ | 5        |
| `SUBLINK_LOGIN_FAIL_WINDOW` | ç™»å½•å¤±è´¥çª—å£(åˆ†é’Ÿ) | 1        |
| `SUBLINK_LOGIN_BAN_DURATION` | ç™»å½•å°ç¦æ—¶é—´(åˆ†é’Ÿ) | 10       |
| `SUBLINK_GEOIP_PATH` | GeoIPæ•°æ®åº“è·¯å¾„ | ./db/GeoLite2-City.mmdb |
| `SUBLINK_ADMIN_PASSWORD` | åˆå§‹ç®¡ç†å‘˜å¯†ç  | 123456   |
| `SUBLINK_ADMIN_PASSWORD_REST` | é‡ç½®ç®¡ç†å‘˜å¯†ç  | è¾“å…¥æ–°ç®¡ç†å‘˜å¯†ç  |

### å‘½ä»¤è¡Œå‚æ•°

```bash
# æŸ¥çœ‹å¸®åŠ©
./sublinkpro help

# æŒ‡å®šç«¯å£å¯åŠ¨
./sublinkpro run --port 9000

# æŒ‡å®šæ•°æ®åº“ç›®å½•
./sublinkpro run --db /data/db

# é‡ç½®ç®¡ç†å‘˜å¯†ç 
./sublinkpro setting -username admin -password newpass
```

### æ•æ„Ÿé…ç½®è¯´æ˜

> [!TIP]
> **JWT Secret** å’Œ **API åŠ å¯†å¯†é’¥** æ˜¯æ•æ„Ÿé…ç½®ï¼Œç³»ç»Ÿä¼šæŒ‰ä»¥ä¸‹æ–¹å¼å¤„ç†ï¼š
> 1. ä¼˜å…ˆä»ç¯å¢ƒå˜é‡è¯»å–
> 2. å¦‚æœªè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œä»æ•°æ®åº“è¯»å–
> 3. å¦‚æ•°æ®åº“ä¹Ÿæ²¡æœ‰ï¼Œè‡ªåŠ¨ç”Ÿæˆéšæœºå¯†é’¥å¹¶å­˜å‚¨åˆ°æ•°æ®åº“
> 
> **ç‰¹åˆ«è¯´æ˜**ï¼šå¦‚æœæ‚¨é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®äº†è¿™äº›å€¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åŒæ­¥åˆ°æ•°æ®åº“ã€‚è¿™æ ·å³ä½¿åç»­å¿˜è®°è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œç³»ç»Ÿä¹Ÿèƒ½ä»æ•°æ®åº“æ¢å¤ï¼Œæ–¹ä¾¿è¿ç§»éƒ¨ç½²ã€‚

> [!WARNING]
> å¦‚æœæ‚¨éœ€è¦**å¤šå®ä¾‹éƒ¨ç½²**æˆ–**é›†ç¾¤éƒ¨ç½²**ï¼Œè¯·åŠ¡å¿…é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ç›¸åŒçš„ `SUBLINK_JWT_SECRET` å’Œ `SUBLINK_API_ENCRYPTION_KEY`ï¼Œä»¥ç¡®ä¿å„å®ä¾‹é—´çš„ç™»å½•çŠ¶æ€å’Œ API Key ä¸€è‡´ã€‚

### Docker éƒ¨ç½²ç¤ºä¾‹ï¼ˆå¸¦ç¯å¢ƒå˜é‡ï¼‰

```yaml
services:
  sublinkpro:
    image: zerodeng/sublink-pro:latest
    container_name: sublinkpro
    ports:
      - "8000:8000"
    volumes:
      - "./db:/app/db"
      - "./template:/app/template"
      - "./logs:/app/logs"
    environment:
      - SUBLINK_PORT=8000
      - SUBLINK_EXPIRE_DAYS=14
      - SUBLINK_LOGIN_FAIL_COUNT=5
      # GeoIP æ•°æ®åº“è·¯å¾„ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º ./db/GeoLite2-City.mmdbï¼‰
      # - SUBLINK_GEOIP_PATH=/app/db/GeoLite2-City.mmdb
      # æ•æ„Ÿé…ç½®ï¼ˆå¯é€‰ï¼Œä¸è®¾ç½®åˆ™è‡ªåŠ¨ç”Ÿæˆï¼‰
      # - SUBLINK_JWT_SECRET=your-secret-key
      # - SUBLINK_API_ENCRYPTION_KEY=your-encryption-key
    restart: unless-stopped
```

> [!NOTE]
> å®Œæ•´çš„ Docker Compose æ¨¡æ¿è¯·å‚è€ƒé¡¹ç›®æ ¹ç›®å½•çš„ `docker-compose.example.yml` æ–‡ä»¶ã€‚

---

## ğŸ–¼ï¸ é¡¹ç›®é¢„è§ˆ

<details open>
<summary><b>ç‚¹å‡»å±•å¼€/æ”¶èµ·é¢„è§ˆå›¾</b></summary>

| | |
|:---:|:---:|
| ![é¢„è§ˆ1](docs/images/1.jpg) | ![é¢„è§ˆ2](docs/images/2.jpg) |
| ![é¢„è§ˆ3](docs/images/3.jpg) | ![é¢„è§ˆ4](docs/images/4.jpg) |
| ![é¢„è§ˆ5](docs/images/5.jpg) | ![é¢„è§ˆ6](docs/images/6.jpg) |
| ![é¢„è§ˆ7](docs/images/7.jpg) | ![é¢„è§ˆ8](docs/images/8.jpg) |
| ![é¢„è§ˆ9](docs/images/9.jpg) | ![é¢„è§ˆ10](docs/images/10.jpg) |

</details>

---

## ğŸ“œ è„šæœ¬åŠŸèƒ½è¯´æ˜

SublinkPro æ”¯æŒä½¿ç”¨ JavaScript è„šæœ¬å¯¹è®¢é˜…å†…å®¹è¿›è¡Œè‡ªå®šä¹‰å¤„ç†ã€‚

### 1ï¸âƒ£ èŠ‚ç‚¹è¿‡æ»¤ `filterNode`

åœ¨ç”Ÿæˆè®¢é˜…å†…å®¹ä¹‹å‰æ‰§è¡Œï¼Œç”¨äºå¯¹èŠ‚ç‚¹åˆ—è¡¨è¿›è¡Œè¿‡æ»¤æˆ–ä¿®æ”¹ã€‚

<details>
<summary><b>æŸ¥çœ‹å‡½æ•°ç­¾åä¸ç¤ºä¾‹</b></summary>

**å‡½æ•°ç­¾å:**
```javascript
function filterNode(nodes, clientType) {
    // nodes: èŠ‚ç‚¹å¯¹è±¡æ•°ç»„
    // clientType: å®¢æˆ·ç«¯ç±»å‹ (v2ray, clash, surge)
    // è¿”å›å€¼: ä¿®æ”¹åçš„èŠ‚ç‚¹å¯¹è±¡æ•°ç»„
    return nodes;
}
```

**ç¤ºä¾‹:**
```javascript
function filterNode(nodes, clientType) {
    // è¿‡æ»¤æ‰åç§°åŒ…å« "æµ‹è¯•" çš„èŠ‚ç‚¹
    var newNodes = [];
    for (var i = 0; i < nodes.length; i++) {
        if (nodes[i].Name.indexOf("æµ‹è¯•") === -1) {
            newNodes.push(nodes[i]);
        }
    }
    return newNodes;
}
```

</details>

### 2ï¸âƒ£ å†…å®¹åå¤„ç† `subMod`

åœ¨ç”Ÿæˆæœ€ç»ˆè®¢é˜…å†…å®¹ä¹‹åæ‰§è¡Œï¼Œç”¨äºå¯¹æœ€ç»ˆçš„æ–‡æœ¬å†…å®¹è¿›è¡Œä¿®æ”¹ã€‚

<details>
<summary><b>æŸ¥çœ‹å‡½æ•°ç­¾åä¸ç¤ºä¾‹</b></summary>

**å‡½æ•°ç­¾å:**
```javascript
function subMod(input, clientType) {
    // input: åŸå§‹è¾“å…¥å†…å®¹
    // clientType: å®¢æˆ·ç«¯ç±»å‹
    // è¿”å›å€¼: ä¿®æ”¹åçš„å†…å®¹å­—ç¬¦ä¸²
    return input;
}
```

</details>

> [!NOTE]
> - è„šæœ¬ä¸­å¯ä»¥ä½¿ç”¨ `console.log()` è¾“å‡ºæ—¥å¿—åˆ°åå°
> - å¤šä¸ªè„šæœ¬ä¼šæŒ‰ç…§æ’åºé¡ºåºä¾æ¬¡æ‰§è¡Œ
> - è„šæœ¬æ”¯æŒçš„å‡½æ•°è¯·æŸ¥çœ‹ [ğŸ“š è„šæœ¬æ–‡æ¡£](docs/script_support.md)

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

æ¬¢è¿å‚ä¸ SublinkPro çš„å¼€å‘ï¼ä»¥ä¸‹æ˜¯é¡¹ç›®ç»“æ„å’Œå¼€å‘ç›¸å…³è¯´æ˜ã€‚

### ğŸ“ é¡¹ç›®ç»“æ„

```
sublinkPro/
â”œâ”€â”€ ğŸ“‚ api/                    # API æ¥å£å±‚
â”‚   â”œâ”€â”€ node.go               # èŠ‚ç‚¹ç›¸å…³ API
â”‚   â”œâ”€â”€ sub.go                # è®¢é˜…ç›¸å…³ API
â”‚   â”œâ”€â”€ tag.go                # æ ‡ç­¾ç›¸å…³ API
â”‚   â”œâ”€â”€ template.go           # æ¨¡æ¿ç›¸å…³ API
â”‚   â”œâ”€â”€ setting.go            # è®¾ç½®ç›¸å…³ API
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ models/                 # æ•°æ®æ¨¡å‹å±‚
â”‚   â”œâ”€â”€ node.go               # èŠ‚ç‚¹æ¨¡å‹
â”‚   â”œâ”€â”€ subcription.go        # è®¢é˜…æ¨¡å‹
â”‚   â”œâ”€â”€ tag.go                # æ ‡ç­¾æ¨¡å‹
â”‚   â”œâ”€â”€ template.go           # æ¨¡æ¿æ¨¡å‹
â”‚   â”œâ”€â”€ db_migrate.go         # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ services/               # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”œâ”€â”€ scheduler.go          # å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â”œâ”€â”€ tag_service.go        # æ ‡ç­¾æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“‚ geoip/             # GeoIP æœåŠ¡
â”‚   â”œâ”€â”€ ğŸ“‚ mihomo/            # Mihomo æ ¸å¿ƒæœåŠ¡
â”‚   â””â”€â”€ ğŸ“‚ sse/               # Server-Sent Events
â”œâ”€â”€ ğŸ“‚ routers/                # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ node.go               # èŠ‚ç‚¹è·¯ç”±
â”‚   â”œâ”€â”€ tag.go                # æ ‡ç­¾è·¯ç”±
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ node/                   # èŠ‚ç‚¹åè®®è§£æ
â”‚   â”œâ”€â”€ sub.go                # è®¢é˜…é“¾æ¥è§£æ
â”‚   â””â”€â”€ ğŸ“‚ protocol/          # å„åè®®è§£æå™¨
â”œâ”€â”€ ğŸ“‚ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ speedtest.go          # æµ‹é€Ÿå·¥å…·
â”‚   â”œâ”€â”€ node_renamer.go       # èŠ‚ç‚¹é‡å‘½åå·¥å…·
â”‚   â”œâ”€â”€ script_executor.go    # è„šæœ¬æ‰§è¡Œå™¨
â”‚   â””â”€â”€ ...
â”œâ”€â”€ ğŸ“‚ middlewares/            # ä¸­é—´ä»¶
â”œâ”€â”€ ğŸ“‚ constants/              # å¸¸é‡å®šä¹‰
â”œâ”€â”€ ğŸ“‚ database/               # æ•°æ®åº“è¿æ¥
â”œâ”€â”€ ğŸ“‚ cache/                  # ç¼“å­˜ç®¡ç†
â”œâ”€â”€ ğŸ“‚ dto/                    # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ ğŸ“‚ webs/                   # å‰ç«¯ä»£ç  (React)
â”‚   â””â”€â”€ ğŸ“‚ src/
â”‚       â”œâ”€â”€ ğŸ“‚ api/           # API è°ƒç”¨
â”‚       â”œâ”€â”€ ğŸ“‚ views/         # é¡µé¢è§†å›¾
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ dashboard/ # ä»ªè¡¨ç›˜
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ nodes/     # èŠ‚ç‚¹ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ subscriptions/ # è®¢é˜…ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ tags/      # æ ‡ç­¾ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ templates/ # æ¨¡æ¿ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ ğŸ“‚ hosts/     # Host æ˜ å°„ç®¡ç†
â”‚       â”‚   â””â”€â”€ ğŸ“‚ settings/  # ç³»ç»Ÿè®¾ç½®
â”‚       â”œâ”€â”€ ğŸ“‚ components/    # å…¬å…±ç»„ä»¶
â”‚       â”œâ”€â”€ ğŸ“‚ contexts/      # React Context
â”‚       â”œâ”€â”€ ğŸ“‚ hooks/         # è‡ªå®šä¹‰ Hooks
â”‚       â”œâ”€â”€ ğŸ“‚ themes/        # ä¸»é¢˜é…ç½®
â”‚       â””â”€â”€ ğŸ“‚ layout/        # å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ ğŸ“‚ template/               # è®¢é˜…æ¨¡æ¿æ–‡ä»¶
â”œâ”€â”€ ğŸ“‚ docs/                   # æ–‡æ¡£
â”œâ”€â”€ main.go                   # ç¨‹åºå…¥å£
â”œâ”€â”€ go.mod                    # Go ä¾èµ–ç®¡ç†
â”œâ”€â”€ Dockerfile                # Docker æ„å»ºæ–‡ä»¶
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

### ğŸ”§ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|:---|:---|
| **åç«¯æ¡†æ¶** | Go + Gin |
| **ORM** | GORM |
| **æ•°æ®åº“** | SQLite |
| **å‰ç«¯æ¡†æ¶** | React 18 + Vite |
| **UI ç»„ä»¶åº“** | Material UI (MUI) |
| **çŠ¶æ€ç®¡ç†** | React Context |
| **æ„å»ºå·¥å…·** | Vite |

### ğŸ’» æœ¬åœ°å¼€å‘

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/ZeroDeng01/sublinkPro.git
cd sublinkPro
```

#### 2. åç«¯å¼€å‘
```bash
# å®‰è£… Go ä¾èµ–
go mod download

# è¿è¡Œåç«¯ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
go run main.go
```

#### 3. å‰ç«¯å¼€å‘
```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd webs

# å®‰è£…ä¾èµ–
yarn install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn run run start
```

#### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
# æ„å»ºå‰ç«¯
cd webs && yarn run build

# æ„å»ºåç«¯ï¼ˆåµŒå…¥å‰ç«¯èµ„æºï¼‰
go build -o sublinkpro main.go
```

### ğŸ“ å¼€å‘è§„èŒƒ

- **ä»£ç é£æ ¼**ï¼šåç«¯éµå¾ª Go å®˜æ–¹è§„èŒƒï¼Œå‰ç«¯ä½¿ç”¨ ESLint + Prettier
- **æäº¤è§„èŒƒ**ï¼šä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯ï¼ˆfeat/fix/docs/refactor ç­‰ï¼‰
- **åˆ†æ”¯ç®¡ç†**ï¼š`main` ä¸ºç¨³å®šåˆ†æ”¯ï¼Œ`dev` ä¸ºå¼€å‘åˆ†æ”¯
- **API è®¾è®¡**ï¼šRESTful é£æ ¼ï¼Œç»Ÿä¸€å“åº”æ ¼å¼

### ğŸ” å…³é”®æ¨¡å—è¯´æ˜

| æ¨¡å— | æ–‡ä»¶ | è¯´æ˜ |
|:---|:---|:---|
| èŠ‚ç‚¹æµ‹é€Ÿ | `services/scheduler/speedtest_task.go` | åŒ…å«å»¶è¿Ÿæµ‹è¯•ã€é€Ÿåº¦æµ‹è¯•çš„æ ¸å¿ƒé€»è¾‘ |
| æ ‡ç­¾è§„åˆ™ | `services/tag_service.go` | è‡ªåŠ¨æ ‡ç­¾è§„åˆ™çš„æ‰§è¡Œä¸åŒ¹é… |
| è®¢é˜…ç”Ÿæˆ | `api/clients.go` | è®¢é˜…é“¾æ¥çš„ç”Ÿæˆä¸èŠ‚ç‚¹ç­›é€‰ |
| åè®®è§£æ | `node/protocol/*.go` | å„ç§ä»£ç†åè®®çš„è§£æå®ç° |
| Host ç®¡ç† | `models/host.go` | Host æ˜ å°„ CRUDã€æ‰¹é‡æ“ä½œã€ç¼“å­˜ç®¡ç† |
| DNS è§£æ | `services/mihomo/resolver.go` | è‡ªå®šä¹‰ DNS æœåŠ¡å™¨ä¸ä»£ç†è§£æ |
| æ•°æ®è¿ç§» | `models/db_migrate.go` | æ•°æ®åº“ç‰ˆæœ¬å‡çº§è¿ç§»è„šæœ¬ |
| å®šæ—¶ä»»åŠ¡ | `services/scheduler/*.go` | å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨ä¸ä»»åŠ¡å®ç° |

### â° å®šæ—¶ä»»åŠ¡å¼€å‘æŒ‡å—

SublinkPro ä½¿ç”¨æ¨¡å—åŒ–çš„å®šæ—¶ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼ŒåŸºäº [robfig/cron](https://github.com/robfig/cron) åº“å®ç°ã€‚ä»¥ä¸‹æ˜¯å¿«é€Ÿé›†æˆè‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡çš„å¼€å‘æŒ‡å—ã€‚

#### ğŸ“ ç›®å½•ç»“æ„

```
services/scheduler/
â”œâ”€â”€ manager.go              # æ ¸å¿ƒè°ƒåº¦ç®¡ç†å™¨ï¼ˆSchedulerManager å•ä¾‹ï¼‰
â”œâ”€â”€ job_ids.go              # ç³»ç»Ÿä»»åŠ¡IDå¸¸é‡å®šä¹‰
â”œâ”€â”€ subscription_task.go    # è®¢é˜…æ›´æ–°ä»»åŠ¡
â”œâ”€â”€ speedtest_task.go       # èŠ‚ç‚¹æµ‹é€Ÿä»»åŠ¡
â”œâ”€â”€ host_cleanup_task.go    # Hostè¿‡æœŸæ¸…ç†ä»»åŠ¡
â”œâ”€â”€ reporter.go             # TaskManagerReporterï¼ˆè¿›åº¦æŠ¥å‘Šï¼‰
â”œâ”€â”€ utils.go                # å·¥å…·å‡½æ•°
â””â”€â”€ bridge.go               # ä¾èµ–æ³¨å…¥æ¡¥æ¥
```

#### ğŸ”§ æ·»åŠ æ–°çš„å®šæ—¶ä»»åŠ¡

##### æ­¥éª¤ 1ï¼šå®šä¹‰ä»»åŠ¡ID

åœ¨ `services/scheduler/job_ids.go` ä¸­æ·»åŠ æ–°çš„ä»»åŠ¡IDå¸¸é‡ï¼š

```go
const (
    JobIDSpeedTest   = -100  // èŠ‚ç‚¹æµ‹é€Ÿå®šæ—¶ä»»åŠ¡ID
    JobIDHostCleanup = -101  // Hostè¿‡æœŸæ¸…ç†ä»»åŠ¡ID
    JobIDYourTask    = -102  // ä½ çš„æ–°ä»»åŠ¡IDï¼ˆä½¿ç”¨è´Ÿæ•°åŒºé—´ï¼Œé¿å…ä¸ç”¨æˆ·è®¢é˜…IDå†²çªï¼‰
)
```

> [!NOTE]
> **ä»»åŠ¡IDè§„åˆ™**ï¼š
> - ç³»ç»Ÿä»»åŠ¡ä½¿ç”¨è´Ÿæ•°IDï¼ˆ-100 åˆ° -199 é¢„ç•™åŒºé—´ï¼‰
> - ç”¨æˆ·è®¢é˜…ä»»åŠ¡ä½¿ç”¨æ­£æ•´æ•°IDï¼ˆæ•°æ®åº“è‡ªå¢ä¸»é”®ï¼‰

##### æ­¥éª¤ 2ï¼šåˆ›å»ºä»»åŠ¡æ–‡ä»¶

åœ¨ `services/scheduler/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ä»»åŠ¡æ–‡ä»¶ï¼Œä¾‹å¦‚ `your_task.go`ï¼š

```go
package scheduler

import (
    "sublink/models"
    "sublink/utils"
)

// StartYourTask å¯åŠ¨ä½ çš„å®šæ—¶ä»»åŠ¡
func (sm *SchedulerManager) StartYourTask(cronExpr string) error {
    sm.mutex.Lock()
    defer sm.mutex.Unlock()

    // æ¸…ç†Cronè¡¨è¾¾å¼
    cleanCronExpr := cleanCronExpression(cronExpr)

    // å¦‚æœä»»åŠ¡å·²å­˜åœ¨ï¼Œå…ˆåˆ é™¤
    if entryID, exists := sm.jobs[JobIDYourTask]; exists {
        sm.cron.Remove(entryID)
        delete(sm.jobs, JobIDYourTask)
    }

    // æ·»åŠ æ–°ä»»åŠ¡
    entryID, err := sm.cron.AddFunc(cleanCronExpr, func() {
        ExecuteYourTask()
    })

    if err != nil {
        utils.Error("æ·»åŠ ä½ çš„ä»»åŠ¡å¤±è´¥ - Cron: %s, Error: %v", cleanCronExpr, err)
        return err
    }

    sm.jobs[JobIDYourTask] = entryID
    utils.Info("æˆåŠŸæ·»åŠ ä½ çš„ä»»åŠ¡ - Cron: %s", cleanCronExpr)
    return nil
}

// StopYourTask åœæ­¢ä½ çš„å®šæ—¶ä»»åŠ¡
func (sm *SchedulerManager) StopYourTask() {
    sm.mutex.Lock()
    defer sm.mutex.Unlock()

    if entryID, exists := sm.jobs[JobIDYourTask]; exists {
        sm.cron.Remove(entryID)
        delete(sm.jobs, JobIDYourTask)
        utils.Info("æˆåŠŸåœæ­¢ä½ çš„ä»»åŠ¡")
    }
}

// ExecuteYourTask æ‰§è¡Œä½ çš„ä»»åŠ¡ä¸šåŠ¡é€»è¾‘
func ExecuteYourTask() {
    utils.Info("å¼€å§‹æ‰§è¡Œä½ çš„ä»»åŠ¡...")
    
    // TODO: åœ¨è¿™é‡Œå®ç°ä½ çš„ä¸šåŠ¡é€»è¾‘
    
    utils.Info("ä½ çš„ä»»åŠ¡æ‰§è¡Œå®Œæˆ")
}
```

##### æ­¥éª¤ 3ï¼šåœ¨å¯åŠ¨æ—¶åŠ è½½ä»»åŠ¡

ä¿®æ”¹ `services/scheduler/manager.go` ä¸­çš„ `LoadFromDatabase` æ–¹æ³•ï¼Œæ·»åŠ ä»»åŠ¡åŠ è½½é€»è¾‘ï¼š

```go
func (sm *SchedulerManager) LoadFromDatabase() error {
    // ... ç°æœ‰ä»£ç  ...
    
    // å¯åŠ¨ä½ çš„å®šæ—¶ä»»åŠ¡
    yourTaskEnabled, _ := models.GetSetting("your_task_enabled")
    if yourTaskEnabled == "true" {
        yourTaskCron, _ := models.GetSetting("your_task_cron")
        if err := sm.StartYourTask(yourTaskCron); err != nil {
            utils.Error("åˆ›å»ºä½ çš„å®šæ—¶ä»»åŠ¡å¤±è´¥: %v", err)
        }
    }
    
    return nil
}
```

#### ğŸ“Š å¸¦è¿›åº¦æŠ¥å‘Šçš„ä»»åŠ¡

å¦‚æœä½ çš„ä»»åŠ¡éœ€è¦æŠ¥å‘Šè¿›åº¦ï¼ˆç±»ä¼¼æµ‹é€Ÿä»»åŠ¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `TaskManager`ï¼š

```go
func ExecuteYourTaskWithProgress() {
    // è·å–ä»»åŠ¡ç®¡ç†å™¨
    tm := getTaskManager()
    
    // åˆ›å»ºä»»åŠ¡ï¼ˆä¼šåœ¨å‰ç«¯ä»»åŠ¡é¢æ¿æ˜¾ç¤ºï¼‰
    task, ctx, err := tm.CreateTask(
        models.TaskTypeYourType,  // éœ€è¦åœ¨ models/task.go ä¸­å®šä¹‰
        "ä½ çš„ä»»åŠ¡åç§°",
        models.TaskTriggerScheduled,  // æˆ– TaskTriggerManual
        100,  // æ€»ä»»åŠ¡æ•°
    )
    if err != nil {
        utils.Error("åˆ›å»ºä»»åŠ¡å¤±è´¥: %v", err)
        return
    }
    
    taskID := task.ID
    
    // æ‰§è¡Œä»»åŠ¡å¹¶æ›´æ–°è¿›åº¦
    for i := 1; i <= 100; i++ {
        // æ£€æŸ¥æ˜¯å¦è¢«ç”¨æˆ·å–æ¶ˆ
        select {
        case <-ctx.Done():
            utils.Info("ä»»åŠ¡è¢«å–æ¶ˆ")
            return
        default:
        }
        
        // æ‰§è¡Œå•ä¸ªå­ä»»åŠ¡...
        
        // æ›´æ–°è¿›åº¦
        tm.UpdateProgress(taskID, i, "å½“å‰å¤„ç†é¡¹", map[string]interface{}{
            "status": "success",
        })
    }
    
    // ä»»åŠ¡å®Œæˆ
    tm.CompleteTask(taskID, "ä»»åŠ¡å®Œæˆ", map[string]interface{}{
        "total": 100,
    })
}
```

#### ğŸ• Cron è¡¨è¾¾å¼æ ¼å¼

æœ¬é¡¹ç›®ä½¿ç”¨ 5 å­—æ®µ Cron æ ¼å¼ï¼ˆä¸å«ç§’ï¼‰ï¼š

| å­—æ®µ | å–å€¼èŒƒå›´ | è¯´æ˜ |
|:---|:---|:---|
| åˆ†é’Ÿ | 0-59 | æ¯å°æ—¶çš„ç¬¬å‡ åˆ†é’Ÿ |
| å°æ—¶ | 0-23 | æ¯å¤©çš„ç¬¬å‡ å°æ—¶ |
| æ—¥ | 1-31 | æ¯æœˆçš„ç¬¬å‡ å¤© |
| æœˆ | 1-12 | æ¯å¹´çš„ç¬¬å‡ æœˆ |
| å‘¨ | 0-6 | æ¯å‘¨çš„ç¬¬å‡ å¤©ï¼ˆ0=å‘¨æ—¥ï¼‰ |

**å¸¸ç”¨ç¤ºä¾‹**ï¼š

| è¡¨è¾¾å¼ | è¯´æ˜ |
|:---|:---|
| `*/5 * * * *` | æ¯ 5 åˆ†é’Ÿ |
| `0 */2 * * *` | æ¯ 2 å°æ—¶ |
| `30 8 * * *` | æ¯å¤© 8:30 |
| `0 0 * * 0` | æ¯å‘¨æ—¥ 00:00 |
| `0 2 1 * *` | æ¯æœˆ 1 æ—¥ 02:00 |

#### ğŸ’¡ å¼€å‘å»ºè®®

1. **ä»»åŠ¡å¹‚ç­‰æ€§**ï¼šç¡®ä¿ä»»åŠ¡å¯ä»¥å®‰å…¨åœ°é‡å¤æ‰§è¡Œ
2. **é”™è¯¯å¤„ç†**ï¼šå¦¥å–„å¤„ç†å¼‚å¸¸ï¼Œé¿å…å½±å“å…¶ä»–å®šæ—¶ä»»åŠ¡
3. **æ—¥å¿—è®°å½•**ï¼šä½¿ç”¨ `utils.Info/Debug/Error` è®°å½•å…³é”®ä¿¡æ¯
4. **å–æ¶ˆæ”¯æŒ**ï¼šé•¿æ—¶é—´ä»»åŠ¡åº”æ”¯æŒç”¨æˆ·å–æ¶ˆï¼ˆæ£€æŸ¥ `ctx.Done()`ï¼‰
5. **èµ„æºé‡Šæ”¾**ï¼šä»»åŠ¡ç»“æŸæ—¶ç¡®ä¿é‡Šæ”¾æ‰€æœ‰èµ„æº

---

## ğŸ“Š é¡¹ç›®ç»Ÿè®¡

<div align="center">

[//]: # (  <img src="https://repobeez.abhijithganesh.com/api/insert/ZeroDeng01/sublinkPro" alt="Repobeez" height="0" width="0" style="display: none"/>)
  
  ![Star History Chart](https://api.star-history.com/svg?repos=ZeroDeng01/sublinkPro&type=Date)
</div>

---

## ğŸ¤ è´¡çŒ®ä¸æ”¯æŒ

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ï¼š

- â­ **Star** è¿™ä¸ªé¡¹ç›®è¡¨ç¤ºæ”¯æŒ
- ğŸ› æäº¤ [Issue](https://github.com/ZeroDeng01/sublinkPro/issues) åé¦ˆé—®é¢˜æˆ–å»ºè®®
- ğŸ”§ æäº¤ Pull Request è´¡çŒ®ä»£ç 
- ğŸ“– å®Œå–„æ–‡æ¡£å’Œä½¿ç”¨æ•™ç¨‹

### ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®çš„å¼€æºè´¡çŒ®ï¼š

- [sublinkX](https://github.com/gooaclok819/sublinkX) / [sublinkE](https://github.com/eun1e/sublinkE) - åŸå§‹é¡¹ç›®
- [Berry Free React Admin Template](https://github.com/codedthemes/berry-free-react-admin-template) - å‰ç«¯æ¨¡æ¿
- [Mihomo](https://github.com/MetaCubeX/mihomo) - ä»£ç†æ ¸å¿ƒ

---

<div align="center">
  <sub>Made with â¤ï¸ by <a href="https://github.com/ZeroDeng01">ZeroDeng01</a></sub>
</div>

